@using Newtonsoft.Json;
@model GoSweet.Models.ViewModels.ResetPasswordVm;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@section Head{
    <link rel="stylesheet" href="~/lib/sweetalert2/sweetalert2.min.css" />
}

<div class="container py-5">
    <form method="post" asp-controller="Home" asp-action="ResetPassword">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <h1 class="display-6 mb-2">重置密碼</h1>
        <input asp-for="EmailAddress" type="hidden" value="@Model.EmailAddress" />
        <div class="mb-3">
            <label asp-for="oldPassword" class="form-label">舊密碼</label>
            <input asp-for="oldPassword" type="password" class="form-control">
            <span asp-validation-for="oldPassword" class="text-danger"></span>
        </div>
        <div class="mb-3">
            <label asp-for="newPassword"  class="form-label">新密碼</label>
            <input asp-for="newPassword" type="password"  class="form-control" >
            <span asp-validation-for="newPassword" class="text-danger"></span>
        </div>
        <div class="mb-3">
            <label asp-for="checkNewPassword" class="form-label">再次確認新密碼</label>
            <input asp-for="checkNewPassword" type="password" class="form-control" >
            <span asp-validation-for="checkNewPassword" class="text-danger"></span>
        </div>
        <button type="submit" class="btn btn-outline-success">儲存</button>
    </form>
</div>

@section Scripts{
    <script src="~/lib/sweetalert2/sweetalert2.js"></script>
    <script src="~/js/messageAlert.js"></script>

    @*舊密碼不相等訊息*@
    @if (TempData["PasswordNotEqual"] != null)
    {
        <script>
            let PasswordNotEqual = @Html.Raw(JsonConvert.SerializeObject(TempData["PasswordNotEqual"]));
            showSwal('error', 'Change Password Status', PasswordNotEqual);
        </script>
    }
}
