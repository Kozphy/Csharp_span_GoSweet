/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/@splidejs/splide-extension-grid@0.4.1/dist/js/splide-extension-grid.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
 * @splidejs/splide-extension-grid
 * Version  : 0.4.1
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */
function empty$1(n){n.length=0}function slice$1(n,t,e){return Array.prototype.slice.call(n,t,e)}function apply$1(n){return n.bind.apply(n,[null].concat(slice$1(arguments,1)))}function typeOf$1(n,t){return typeof t===n}var isArray$1=Array.isArray;function toArray$1(n){return isArray$1(n)?n:[n]}function forEach$1(n,t){toArray$1(n).forEach(t)}apply$1(typeOf$1,"function"),apply$1(typeOf$1,"string"),apply$1(typeOf$1,"undefined");var ownKeys$1=Object.keys;function forOwn$1(n,t,e){if(n){var r=ownKeys$1(n);r=e?r.reverse():r;for(var i=0;i<r.length;i++){var o=r[i];if("__proto__"!==o&&!1===t(n[o],o))break}}return n}function assign$1(n){return slice$1(arguments,1).forEach((function(t){forOwn$1(t,(function(e,r){n[r]=t[r]}))})),n}var PROJECT_CODE$1="splide";function EventBinder(){var n=[];function t(n,t,e){forEach$1(n,(function(n){n&&forEach$1(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");e(n,r[0],r[1])}))}))}))}return{bind:function(e,r,i,o){t(e,r,(function(t,e,r){var s="addEventListener"in t,c=s?t.removeEventListener.bind(t,e,i,o):t.removeListener.bind(t,i);s?t.addEventListener(e,i,o):t.addListener(i),n.push([t,e,r,i,c])}))},unbind:function(e,r,i){t(e,r,(function(t,e,r){n=n.filter((function(n){return!!(n[0]!==t||n[1]!==e||n[2]!==r||i&&n[3]!==i)||(n[4](),!1)}))}))},dispatch:function(n,t,e){var r;return"function"==typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:e}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,e),n.dispatchEvent(r),r},destroy:function(){n.forEach((function(n){n[4]()})),empty$1(n)}}}var EVENT_VISIBLE="visible",EVENT_HIDDEN="hidden",EVENT_REFRESH="refresh",EVENT_UPDATED="updated",EVENT_DESTROY="destroy";function EventInterface(n){var t=n?n.event.bus:document.createDocumentFragment(),e=EventBinder();return n&&n.event.on(EVENT_DESTROY,e.destroy),assign$1(e,{bus:t,on:function(n,r){e.bind(t,toArray$1(n).join(" "),(function(n){r.apply(r,isArray$1(n.detail)?n.detail:[])}))},off:apply$1(e.unbind,t),emit:function(n){e.dispatch(t,n,slice$1(arguments,1))}})}var CLASS_ROOT=PROJECT_CODE$1,CLASS_SLIDE=PROJECT_CODE$1+"__slide",CLASS_CONTAINER=CLASS_SLIDE+"__container";function empty(n){n.length=0}function slice(n,t,e){return Array.prototype.slice.call(n,t,e)}function apply(n){return n.bind(null,...slice(arguments,1))}function typeOf(n,t){return typeof t===n}function isObject(n){return!isNull(n)&&typeOf("object",n)}const isArray=Array.isArray;apply(typeOf,"function");const isString=apply(typeOf,"string"),isUndefined=apply(typeOf,"undefined");function isNull(n){return null===n}function isHTMLElement(n){return n instanceof HTMLElement}function toArray(n){return isArray(n)?n:[n]}function forEach(n,t){toArray(n).forEach(t)}function push(n,t){return n.push(...toArray(t)),n}function toggleClass(n,t,e){n&&forEach(t,(t=>{t&&n.classList[e?"add":"remove"](t)}))}function addClass(n,t){toggleClass(n,isString(t)?t.split(" "):t,!0)}function append(n,t){forEach(t,n.appendChild.bind(n))}function matches(n,t){return isHTMLElement(n)&&(n.msMatchesSelector||n.matches).call(n,t)}function children(n,t){const e=n?slice(n.children):[];return t?e.filter((n=>matches(n,t))):e}function child(n,t){return t?children(n,t)[0]:n.firstElementChild}const ownKeys=Object.keys;function forOwn(n,t,e){if(n){let r=ownKeys(n);r=e?r.reverse():r;for(let e=0;e<r.length;e++){const i=r[e];if("__proto__"!==i&&!1===t(n[i],i))break}}return n}function assign(n){return slice(arguments,1).forEach((t=>{forOwn(t,((e,r)=>{n[r]=t[r]}))})),n}function omit(n,t){toArray(t||ownKeys(n)).forEach((t=>{delete n[t]}))}function removeAttribute(n,t){forEach(n,(n=>{forEach(t,(t=>{n&&n.removeAttribute(t)}))}))}function setAttribute(n,t,e){isObject(t)?forOwn(t,((t,e)=>{setAttribute(n,e,t)})):forEach(n,(n=>{isNull(e)||""===e?removeAttribute(n,t):n.setAttribute(t,String(e))}))}function create(n,t,e){const r=document.createElement(n);return t&&(isString(t)?addClass(r,t):setAttribute(r,t)),e&&append(e,r),r}function style(n,t,e){if(isUndefined(e))return getComputedStyle(n)[t];isNull(e)||(n.style[t]=`${e}`)}function hasClass(n,t){return n&&n.classList.contains(t)}function remove(n){forEach(n,(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)}))}function queryAll(n,t){return t?slice(n.querySelectorAll(t)):[]}function removeClass(n,t){toggleClass(n,t,!1)}function unit(n){return isString(n)?n:n?`${n}px`:""}const PROJECT_CODE="splide";function assert(n,t){if(!n)throw new Error(`[splide] ${t||""}`)}const{min:min,max:max,floor:floor,ceil:ceil,abs:abs}=Math;function pad(n){return n<10?`0${n}`:`${n}`}const CLASS_SLIDE_ROW=`${CLASS_SLIDE}__row`,CLASS_SLIDE_COL=`${CLASS_SLIDE}--col`,DEFAULTS={rows:1,cols:1,dimensions:[],gap:{}};function Dimension(n){function t(){const{rows:t,cols:e,dimensions:r}=n;return isArray(r)&&r.length?r:[[t,e]]}return{get:function(n){const e=t();return e[min(n,e.length-1)]},getAt:function(n){const e=t();let r,i,o=0;for(let t=0;t<e.length;t++){const s=e[t];if(r=s[0]||1,i=s[1]||1,o+=r*i,n<o)break}return assert(r&&i,"Invalid dimension"),[r,i]}}}function Layout(n,t,e){const{on:r,destroy:i}=EventInterface(n),{Components:o,options:s}=n,{resolve:c}=o.Direction,{forEach:u}=o.Slides;function a(n,t){const e=child(n,`.${CLASS_CONTAINER}`),r=child(e||n,"img");r&&r.src&&(style(e||n,"background",t?"":`center/cover no-repeat url("${r.src}")`),style(r,"display",t?"":"none"))}function l(n){return queryAll(n,`.${CLASS_SLIDE_ROW}`)}function f(n){return queryAll(n,`.${CLASS_SLIDE_COL}`)}function d(n,t){f(n).forEach((n=>{setAttribute(n,"tabindex",t?0:null)}))}function E(n){d(n.slide,!0)}function p(n){d(n.slide,!1)}return{mount:function(){u((r=>{const{slide:i}=r,[o,s]=e.get(r.isClone?r.slideIndex:r.index);!function(n,e){const{row:r}=t.gap,i=`calc(${100/n}%${r?` - ${unit(r)} * ${(n-1)/n}`:""})`;l(e).forEach(((n,t,e)=>{style(n,"height",i),style(n,"display","flex"),style(n,"margin",`0 0 ${unit(r)} 0`),style(n,"padding",0),t===e.length-1&&style(n,"marginBottom",0)}))}(o,i),function(n,e){const{col:r}=t.gap,i=`calc(${100/n}%${r?` - ${unit(r)} * ${(n-1)/n}`:""})`;f(e).forEach(((n,t,e)=>{style(n,"width",i),t!==e.length-1&&style(n,c("marginRight"),unit(r))}))}(s,i),f(r.slide).forEach(((t,e)=>{t.id=`${r.slide.id}-col${pad(e+1)}`,n.options.cover&&a(t)}))})),s.slideFocus&&(r(EVENT_VISIBLE,E),r(EVENT_HIDDEN,p))},destroy:function(){u((n=>{const{slide:t}=n;d(t,!1),l(t).forEach((n=>{removeAttribute(n,"style")})),f(t).forEach((n=>{a(n,!0),removeAttribute(n,"style")}))})),i()}}}function Grid(n,t,e){const{on:r,off:i}=EventInterface(n),{Elements:o}=t,s={},c=Dimension(s),u=Layout(n,s,c),a=`${CLASS_ROOT}--grid`,l=[];function f(){omit(s),assign(s,DEFAULTS,e.grid||{}),!function(){if(e.grid){const{rows:n,cols:t,dimensions:e}=s;return n>1||t>1||isArray(e)&&e.length>0}return!1}()?y()&&(d(),E()):(d(),push(l,o.slides),addClass(n.root,a),append(o.list,function(){const n=[];let t,e,r=0,i=0;return l.forEach(((o,s)=>{const[u,a]=c.getAt(s);i||(r||(t=create(o.tagName,CLASS_SLIDE),n.push(t)),e=function(n,t,e){return create("li"===t.tagName.toLowerCase()?"ul":"div",CLASS_SLIDE_ROW,e)}(0,o,t)),function(n,t,e){addClass(t,CLASS_SLIDE_COL),append(e,t)}(0,o,e),++i>=a&&(i=0,r=++r>=u?0:r)})),n}()),i(EVENT_REFRESH),r(EVENT_REFRESH,p),E())}function d(){if(y()){const{slides:t}=o;u.destroy(),l.forEach((n=>{removeClass(n,CLASS_SLIDE_COL),append(o.list,n)})),remove(t),removeClass(n.root,a),empty(t),push(t,l),empty(l),i(EVENT_REFRESH)}}function E(){n.refresh()}function p(){y()&&u.mount()}function y(){return hasClass(n.root,a)}return{mount:function(){f(),r(EVENT_UPDATED,f)},destroy:d}}export{Grid};
//# sourceMappingURL=/sm/a47ab58ae421a1f6fa774c0a92f0fe362bc2a8e30b965d9068c41296bcf4c5aa.map